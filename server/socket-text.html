<!DOCTYPE html>
<html>
<head>
  <title>Socket Test</title>
  <script src="https://cdn.socket.io/4.7.2/socket.io.min.js"></script>
</head>
<body>
<h2>Socket.IO Test</h2>

<script>
  const USER_ID = prompt("Enter your USER ID");
  const RECEIVER_ID = prompt("Enter RECEIVER USER ID");

  const socket = io("http://localhost:3000");

  socket.on("connect", () => {
    console.log("Connected:", socket.id);
    socket.emit("join", USER_ID);
  });

  socket.on("newMessage", (msg) => {
    console.log("New message received:", msg);
  });

  function sendMessage() {
    const text = prompt("Message to send:");

    socket.emit("sendMessage", {
      sender: USER_ID,
      receiver: RECEIVER_ID,
      content: text
    });
  }

  window.sendMessage = sendMessage;
</script>

<button onclick="sendMessage()">Send Message</button>
</body>
</html>
